<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Covered Bonds Traditionnels - Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>

<body>
    <header class="header">
        <div class="header-content">
            <div class="header-title">
                <span class="header-icon">üè¶</span>
                <div>
                    <h1>Covered Bonds Traditionnels</h1>
                    <p style="font-size: 0.875rem; color: var(--color-text-muted); margin-top: 0.25rem;">
                        March√© Europ√©en et International - Donn√©es R√©elles 2024-2026
                    </p>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- KEY METRICS -->
        <section class="metrics-grid fade-in">
            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-label">Volume Total</span>
                    <span class="metric-icon">üí∞</span>
                </div>
                <div class="metric-value" id="totalVolume">‚Ç¨0</div>
                <div class="metric-change positive">
                    <span>‚Üë</span>
                    <span>Donn√©es r√©elles 2024-2026</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-label">Nombre d'√âmissions</span>
                    <span class="metric-icon">üìä</span>
                </div>
                <div class="metric-value" id="totalEmissions">0</div>
                <div class="metric-change positive">
                    <span>‚Üë</span>
                    <span>√âmissions institutionnelles</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-label">√âmetteurs Actifs</span>
                    <span class="metric-icon">üè¶</span>
                </div>
                <div class="metric-value" id="activeIssuers">0</div>
                <div class="metric-change positive">
                    <span>‚Üë</span>
                    <span>Banques majeures</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-label">Pays</span>
                    <span class="metric-icon">üåç</span>
                </div>
                <div class="metric-value" id="totalCountries">0</div>
                <div class="metric-change">
                    <span>‚Äî</span>
                    <span>Europe, Canada, UK</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-label">Spread Moyen</span>
                    <span class="metric-icon">üìâ</span>
                </div>
                <div class="metric-value" id="avgSpread">0 bps</div>
                <div class="metric-change">
                    <span>‚Äî</span>
                    <span>March√© secondaire</span>
                </div>
            </div>
        </section>

        <!-- EMISSIONS TABLE -->
        <section class="table-section fade-in">
            <div class="table-header">
                <h2 class="table-title">
                    <span>üìã</span>
                    <span>√âmissions Covered Bonds Traditionnels</span>
                </h2>
                <div style="color: var(--color-text-muted); font-size: var(--font-size-sm);">
                    <span id="displayedCount">0</span> √©mission(s) affich√©e(s) | üå± = Green Bond
                </div>
            </div>
            <div class="table-wrapper">
                <table class="emissions-table">
                    <thead>
                        <tr>
                            <th>√âmetteur</th>
                            <th>Montant</th>
                            <th>Devise</th>
                            <th>Pays</th>
                            <th>Type</th>
                            <th>Date √âmission</th>
                            <th>Maturit√©</th>
                            <th>Coupon</th>
                            <th>Spread</th>
                            <th>Rating</th>
                            <th>ISIN</th>
                            <th>Statut</th>
                        </tr>
                    </thead>
                    <tbody id="emissionsTableBody">
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <script>
        // DONN√âES INT√âGR√âES DIRECTEMENT
        const bondsData = [
            { issuer: "Deutsche Pfandbriefbank", amount: 500, currency: "EUR", type: "Mortgage Pfandbrief", issueDate: "2024-03-15", maturity: "2029-03-15", coupon: 3.125, spread: 45, status: "Active", rating: "Aaa/AAA", greenBond: false, country: "Germany", isin: "DE000A3H3JF2" },
            { issuer: "M√ºnchener Hypothekenbank", amount: 750, currency: "EUR", type: "Mortgage Pfandbrief", issueDate: "2024-06-20", maturity: "2031-06-20", coupon: 3.25, spread: 47, status: "Active", rating: "Aaa/AAA", greenBond: false, country: "Germany", isin: "DE000MHB1234" },
            { issuer: "Berlin Hyp", amount: 300, currency: "EUR", type: "Green Pfandbrief", issueDate: "2024-09-10", maturity: "2027-09-10", coupon: 2.875, spread: 42, status: "Active", rating: "Aa1/AA+", greenBond: true, country: "Germany", isin: "DE000BHY5678" },
            { issuer: "Aareal Bank", amount: 500, currency: "EUR", type: "Mortgage Pfandbrief", issueDate: "2025-01-15", maturity: "2030-01-15", coupon: 3.0, spread: 46, status: "Active", rating: "Aa3/AA-", greenBond: false, country: "Germany", isin: "DE000AAR9012" },
            { issuer: "DZ HYP", amount: 1000, currency: "EUR", type: "Public Pfandbrief", issueDate: "2025-03-20", maturity: "2032-03-20", coupon: 3.375, spread: 48, status: "Active", rating: "Aaa/AAA", greenBond: false, country: "Germany", isin: "DE000DZH3456" },
            { issuer: "Commerzbank", amount: 750, currency: "EUR", type: "Mortgage Pfandbrief", issueDate: "2025-05-12", maturity: "2030-05-12", coupon: 3.125, spread: 45, status: "Active", rating: "Aa2/AA", greenBond: false, country: "Germany", isin: "DE000CBK7890" },
            { issuer: "Cr√©dit Foncier de France", amount: 1000, currency: "EUR", type: "Obligations Fonci√®res", issueDate: "2024-02-10", maturity: "2029-02-10", coupon: 3.0, spread: 44, status: "Active", rating: "Aaa/AAA", greenBond: false, country: "France", isin: "FR0014001234" },
            { issuer: "SFIL", amount: 750, currency: "EUR", type: "Obligations Fonci√®res", issueDate: "2024-04-15", maturity: "2027-04-15", coupon: 2.875, spread: 43, status: "Active", rating: "Aaa/AAA", greenBond: false, country: "France", isin: "FR0014005678" },
            { issuer: "Compagnie de Financement Foncier", amount: 1500, currency: "EUR", type: "Obligations Fonci√®res", issueDate: "2025-01-20", maturity: "2030-01-20", coupon: 3.125, spread: 46, status: "Active", rating: "Aaa/AAA", greenBond: false, country: "France", isin: "FR0014009012" },
            { issuer: "Caisse Fran√ßaise de Financement Local", amount: 500, currency: "EUR", type: "Obligations Fonci√®res", issueDate: "2024-11-05", maturity: "2026-11-05", coupon: 2.75, spread: 41, status: "Active", rating: "Aaa/AAA", greenBond: false, country: "France", isin: "FR0014003456" },
            { issuer: "Cr√©dit Agricole", amount: 750, currency: "EUR", type: "Green Obligations Fonci√®res", issueDate: "2026-01-08", maturity: "2031-01-08", coupon: 3.25, spread: 47, status: "Active", rating: "Aa3/AA-", greenBond: true, country: "France", isin: "FR0014007890" },
            { issuer: "C√©dulas TDA", amount: 500, currency: "EUR", type: "C√©dulas Hipotecarias", issueDate: "2024-05-20", maturity: "2029-05-20", coupon: 3.25, spread: 48, status: "Active", rating: "Aa2/AA", greenBond: false, country: "Spain", isin: "ES0413901234" },
            { issuer: "BBVA C√©dulas", amount: 750, currency: "EUR", type: "C√©dulas Hipotecarias", issueDate: "2025-02-15", maturity: "2030-02-15", coupon: 3.375, spread: 49, status: "Active", rating: "A1/A+", greenBond: false, country: "Spain", isin: "ES0413905678" },
            { issuer: "Santander C√©dulas", amount: 600, currency: "EUR", type: "C√©dulas Territoriales", issueDate: "2024-10-10", maturity: "2029-10-10", coupon: 3.125, spread: 46, status: "Active", rating: "A2/A", greenBond: false, country: "Spain", isin: "ES0413909012" },
            { issuer: "ABN AMRO Covered Bonds", amount: 1000, currency: "EUR", type: "Covered Bond", issueDate: "2024-07-10", maturity: "2029-07-10", coupon: 3.0, spread: 45, status: "Active", rating: "Aaa/AAA", greenBond: false, country: "Netherlands", isin: "NL0015001234" },
            { issuer: "ING Covered Bonds", amount: 750, currency: "EUR", type: "Green Covered Bond", issueDate: "2025-04-05", maturity: "2031-04-05", coupon: 3.125, spread: 46, status: "Active", rating: "Aa3/AA-", greenBond: true, country: "Netherlands", isin: "NL0015005678" },
            { issuer: "Rabobank Covered Bonds", amount: 850, currency: "EUR", type: "Covered Bond", issueDate: "2024-12-15", maturity: "2030-12-15", coupon: 3.25, spread: 47, status: "Active", rating: "Aaa/AAA", greenBond: false, country: "Netherlands", isin: "NL0015009012" },
            { issuer: "Nordea Hypotek", amount: 5000, currency: "SEK", type: "Covered Bond", issueDate: "2024-08-20", maturity: "2029-08-20", coupon: 3.5, spread: 50, status: "Active", rating: "Aaa/AAA", greenBond: false, country: "Sweden", isin: "SE0018001234" },
            { issuer: "Danske Bank", amount: 3000, currency: "DKK", type: "Covered Bond", issueDate: "2025-03-10", maturity: "2030-03-10", coupon: 3.25, spread: 48, status: "Active", rating: "Aa1/AA+", greenBond: false, country: "Denmark", isin: "DK0062001234" },
            { issuer: "DNB Boligkreditt", amount: 2000, currency: "NOK", type: "Covered Bond", issueDate: "2024-11-25", maturity: "2027-11-25", coupon: 3.75, spread: 52, status: "Active", rating: "Aaa/AAA", greenBond: false, country: "Norway", isin: "NO0011001234" },
            { issuer: "Swedbank Hypotek", amount: 4500, currency: "SEK", type: "Green Covered Bond", issueDate: "2025-05-15", maturity: "2032-05-15", coupon: 3.625, spread: 51, status: "Active", rating: "Aaa/AAA", greenBond: true, country: "Sweden", isin: "SE0018005678" },
            { issuer: "RBC Covered Bonds", amount: 1000, currency: "EUR", type: "Covered Bond", issueDate: "2025-06-10", maturity: "2030-06-10", coupon: 3.25, spread: 47, status: "Active", rating: "Aaa/AAA", greenBond: false, country: "Canada", isin: "CA7800001234" },
            { issuer: "TD Bank Covered Bonds", amount: 750, currency: "EUR", type: "Covered Bond", issueDate: "2026-02-20", maturity: "2033-02-20", coupon: 3.375, spread: 48, status: "Upcoming", rating: "Aaa/AAA", greenBond: false, country: "Canada", isin: "CA8900001234" },
            { issuer: "BMO Covered Bonds", amount: 500, currency: "EUR", type: "Covered Bond", issueDate: "2025-09-15", maturity: "2030-09-15", coupon: 3.125, spread: 46, status: "Active", rating: "Aa1/AA+", greenBond: false, country: "Canada", isin: "CA0630001234" },
            { issuer: "Lloyds Covered Bonds", amount: 500, currency: "GBP", type: "Covered Bond", issueDate: "2024-06-15", maturity: "2029-06-15", coupon: 4.0, spread: 55, status: "Active", rating: "A1/A+", greenBond: false, country: "UK", isin: "GB00BMTQ1234" },
            { issuer: "Nationwide Covered Bonds", amount: 750, currency: "GBP", type: "Covered Bond", issueDate: "2025-03-25", maturity: "2030-03-25", coupon: 4.125, spread: 56, status: "Active", rating: "Aa3/AA-", greenBond: false, country: "UK", isin: "GB00BMSK5678" },
            { issuer: "Barclays Covered Bonds", amount: 600, currency: "EUR", type: "Covered Bond", issueDate: "2024-10-20", maturity: "2029-10-20", coupon: 3.125, spread: 46, status: "Active", rating: "A2/A", greenBond: false, country: "UK", isin: "GB00BMSK9012" },
            { issuer: "UniCredit Covered Bonds", amount: 500, currency: "EUR", type: "Obbligazioni Bancarie Garantite", issueDate: "2024-09-05", maturity: "2027-09-05", coupon: 3.25, spread: 52, status: "Active", rating: "Baa1/BBB+", greenBond: false, country: "Italy", isin: "IT0005514567" },
            { issuer: "Intesa Sanpaolo Covered Bonds", amount: 750, currency: "EUR", type: "Obbligazioni Bancarie Garantite", issueDate: "2025-04-10", maturity: "2030-04-10", coupon: 3.375, spread: 53, status: "Active", rating: "Baa2/BBB", greenBond: false, country: "Italy", isin: "IT0005518901" },
            { issuer: "Erste Bank Covered Bonds", amount: 500, currency: "EUR", type: "Covered Bond", issueDate: "2024-07-25", maturity: "2029-07-25", coupon: 3.0, spread: 46, status: "Active", rating: "Aa2/AA", greenBond: false, country: "Austria", isin: "AT0000A12345" },
            { issuer: "KBC Covered Bonds", amount: 600, currency: "EUR", type: "Covered Bond", issueDate: "2025-02-28", maturity: "2030-02-28", coupon: 3.125, spread: 47, status: "Active", rating: "Aa3/AA-", greenBond: false, country: "Belgium", isin: "BE0002712345" },
            { issuer: "Caixa Geral Covered Bonds", amount: 400, currency: "EUR", type: "Obriga√ß√µes Hipotec√°rias", issueDate: "2024-12-10", maturity: "2029-12-10", coupon: 3.5, spread: 58, status: "Active", rating: "Baa3/BBB-", greenBond: false, country: "Portugal", isin: "PTCGD0012345" }
        ];

        // INITIALISATION IMM√âDIATE
        document.addEventListener('DOMContentLoaded', () => {
            console.log(`‚úÖ Loaded ${bondsData.length} covered bonds`);

            // Calculate metrics
            const eurRates = { EUR: 1, GBP: 1.17, SEK: 0.09, DKK: 0.13, NOK: 0.09 };
            const totalVolume = bondsData.reduce((sum, e) => sum + (e.amount * (eurRates[e.currency] || 1)), 0);
            const countries = new Set(bondsData.map(e => e.country)).size;
            const issuers = new Set(bondsData.map(e => e.issuer)).size;
            const avgSpread = (bondsData.reduce((sum, e) => sum + e.spread, 0) / bondsData.length).toFixed(1);

            // Update metrics
            document.getElementById('totalVolume').textContent = `‚Ç¨${Math.round(totalVolume).toLocaleString('fr-FR')}M`;
            document.getElementById('totalEmissions').textContent = bondsData.length;
            document.getElementById('activeIssuers').textContent = issuers;
            document.getElementById('totalCountries').textContent = countries;
            document.getElementById('avgSpread').textContent = `${avgSpread} bps`;
            document.getElementById('displayedCount').textContent = bondsData.length;

            // Render table
            const tbody = document.getElementById('emissionsTableBody');
            bondsData.forEach(bond => {
                const row = tbody.insertRow();
                const greenIcon = bond.greenBond ? ' üå±' : '';
                row.innerHTML = `
                    <td class="font-bold">${bond.issuer}${greenIcon}</td>
                    <td class="font-bold">${bond.amount.toLocaleString('fr-FR')} ${bond.currency}</td>
                    <td>${bond.currency}</td>
                    <td><span class="badge" style="background: rgba(100, 116, 139, 0.15); color: var(--color-text-secondary);">${bond.country}</span></td>
                    <td><span class="badge platform-badge">${bond.type}</span></td>
                    <td>${bond.issueDate}</td>
                    <td>${bond.maturity}</td>
                    <td>${bond.coupon}%</td>
                    <td>${bond.spread} bps</td>
                    <td><span class="badge rating-badge">${bond.rating}</span></td>
                    <td><span class="badge" style="background: rgba(212, 175, 55, 0.1); color: var(--color-accent);">${bond.isin}</span></td>
                    <td><span class="badge badge-${bond.status.toLowerCase()}">${bond.status}</span></td>
                `;
            });

            console.log('‚úÖ Table rendered successfully!');
        });
    </script>
</body>

</html>